<!DOCTYPE html>
<!--

-->
<html>
    <head>
        <title>i-Search Kelowna</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styleOne.css"> 
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32"/>
        <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16"/>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    </head>
    <body>       
        <header>
            <h1><a href="https://isearchkelowna.ca/"><img src = "iSearchKelowna Logo.PNG" alt = "logo"></a></h1>            
        </header>       
        <aside>
            <h4>Common Search Subjects</h4>
            <div id = "broadSearch">          
                <button class ='btn' onClick="showMore(1);output('1');">Search All</button>
                <button class ='btn' onClick="showMore(2);">Building Type</button>
                <button class ='btn' onClick="showMore(3);">Restrictions and Tolerances</button>
                <button class ='btn' onClick="showMore(4);">Target Demographic</button>
                <button class ='btn' onClick="showMore(5);">tba</button>
                <button class ='btn' onClick="showMore(6);">Custom Search</button>
            </div>           
        </aside>
        <div class ='options' id = 'searchAll'>

            <button class ='btn' onClick ="output('2');">Refine/Search</button>
        </div>
        <div class ='options' id = "buildingType">
            <button class ='btn' onClick ="output('2');">Refine/Search</button>
        </div>
        <div class = 'options' id = 'tolerances'>
            Is smoking permitted?
            <input type ="radio" name ="smoking" value ="true" id ="sTrue">Yes
            <input type ="radio" name ="smoking" value ="false" id ="sFalse">No<br>
            Is alcohol permitted?               
            <input type = "radio" name = "alcUse" value = "true" id = "aTrue">Yes
            <input type = "radio" name = "alcUse" value = "false" id = "aFalse">No<br>
            Are drugs permitted?
            <input type = "radio" name = "drugUse" value = "true" id = "dTrue">Yes
            <input type = "radio" name = "drugUse" value = "false" id = "dFalse">No<br>
            Are the disabled accommodated?
            <input type = "radio" name = "accDisabled" value = "true" id = "disTrue">Yes
            <input type = "radio" name = "accDisabled" value = "false" id = "disFalse">No<br>
            Are pets permitted?
            <input type = "radio" name = "pets" value = "true" id = "pTrue">Yes
            <input type = "radio" name = "pets" value = "false" id = "pFalse">No<br>
            Is there a max stay duration?
            <input type = "radio" name = "stayDur" value = "true" id = "maxStayTrue">Yes
            <input type = "radio" name = "stayDur" value = "false" id = "maxStayFalse">No<br>
            Is there a clean time requirement?
            <input type = "radio" name = "clean" value = "true" id = "cleanTrue">Yes
            <input type = "radio" name = "clean" value = "false" id = "cleanFalse">No<br>
            Is a treatment detox required before admittance?            
            <input type = "radio" name = "detox" value = "true" id = "detTrue">Yes
            <input type = "radio" name = "detox" value = "false" id = "detFalse">No<br>
            <button class ='btn' onClick ="output('3');">Refine/Search</button>
        </div>
        <div class = 'options' id = "demographic">
            Family
            <input type ='checkbox' value = "family" id ='family'><br>
            Couple
            <input type ='checkbox' value = "couple" id ='couple'><br>
            Individual
            <input type ='checkbox' value = "individual" id ='indiv'><br>
            Male
            <input type ='checkbox' value = "male" id ='male'><br>
            Female
            <input type ='checkbox' value = "female" id ='female'><br>
            Transgender
            <input type ='checkbox' value = "transgender" id ='trans'><br>
            Age
            <select id = "age">
                <option value="16 -18">16 - 18</option>
                <option value="19+">19+</option>
                <option value="55+">55+</option>
                <option value="other">No preference</option>
            </select><br>
            <button class ='btn' onClick ="output('4');">Refine/Search</button>
        </div>
        <div class ='options' id = 'n/a'>
            <button class ='btn' onClick ="output('5');">Refine/Search</button>
        </div>
        <div class ='options' id = 'custom'>
            <button class ='btn' onClick ="output('6');">Refine/Search</button>
        </div>        
        <main>
            <div id='out'>

            </div>
            <input type="button" class ="printbtn" onclick="printDiv('out')" value="Print"/>
            <a class = "a" href="http://www.sharethis.com/share?url=http://localhost/Project_Repo/COSC224_Project/i-Search_Kelowna/index.html&title=iSearch Kelowna&summary=This website helps service providers in the Okanagan Area to find shelters for helpless people.&img src=img.jpg&pageInfo=%7B%22hostname%22%3A%22[INSERT DOMAIN NAME]%22%2C%22publisher%22%3A%22[INSERT PUBLISHERID]%22%7D">Share this page</a>            
        </main>

        <footer>
            Â© iSearch - Kelowna
        </footer>

        <script>
            function showMore(id) {
                var elems = document.getElementsByClassName('options');
                //clear previous options
                for (var i = 0; i < elems.length; ++i) {
                    elems[i].style.display = "none";
                }
                var x;
                if (id === 1) {
                    document.getElementById("out").innerHTML = ""
                    x = document.getElementById("searchAll"); 
                } else if (id === 2) {
                    document.getElementById("out").innerHTML = ""
                    x = document.getElementById("buildingType");
                } else if (id === 3) {
                    document.getElementById("out").innerHTML = ""
                    x = document.getElementById("tolerances");
                } else if (id === 4) {
                    document.getElementById("out").innerHTML = ""
                    x = document.getElementById("demographic");
                } else if (id === 5) {
                    document.getElementById("out").innerHTML = ""
                    x = document.getElementById("n/a");
                } else if (id === 6) {
                    document.getElementById("out").innerHTML = ""
                    x = document.getElementById("custom"); 
                }
                if (x.style.display !== 'block') {
                    x.style.display = "block";
                }
            }
        </script>       
        <script type="text/javascript">
            function output(id) {
                //Default values for radio buttons.
                //Strings not booleans because of how the DB is set up.
                //
                var smoking = "", alcohol = "", drugs = "", disabled = "", pets = "", maxStay = "", clean = "", detox = "", 
                    family = "", couple = "", individual = "", male = "", female = "", transgender = "", age = "";
                if (id === '1') {
                    document.getElementById("out").innerHTML = "";                   
                } else if (id === '2') {
                    document.getElementById("out").innerHTML = "";
                } else if (id === '3') {
                    document.getElementById("out").innerHTML = "";
                } else if (id === '4') {                   
                    document.getElementById("out").innerHTML = "";
                    if(document.getElementById('family').checked){
                        family = "true";
                    }
                    if(document.getElementById('couple').checked){
                        couple = "true";
                    }
                    if(document.getElementById('indiv').checked){
                        individual = "true";
                    }
                    if(document.getElementById('male').checked){
                        male = "true";
                    }
                    if(document.getElementById('female').checked){
                        female = "true";
                    }
                    if(document.getElementById('trans').checked){
                        transgender = "true";
                    }
                    if(document.getElementById('age').value === "other"){
                        age = "";
                    }                                        
                } else if (id === '5') {
                    document.getElementById("out").innerHTML = "";
                } else if (id === '6') {
                    document.getElementById("out").innerHTML = "";
                }
                
                $('#out').load("output.php", {id, smoking, alcohol, drugs, disabled, pets, maxStay, clean, detox, 
                                              family, couple, individual, male, female, transgender, age});
            }
        </script>
        <script type="text/javascript">
            function printDiv(divName) {
                var printContents = document.getElementById(divName).innerHTML;
                w = window.open();
                w.document.write(printContents);
                w.print();
                w.close();
            }
        </script>
    </body>
</html>